# Stock Grain Ranking System - Benchmark Report

## 1. 系统概述

本系统是一个基于多维评分模型的股票策略分析系统，通过技术指标、量价分析和宏观数据综合评估股票的买卖信号。

### 1.1 核心功能
- 多维度评分系统（买入评分 + 卖出压力）
- 动态阈值调整机制
- 回测策略验证
- 宏观数据集成（CPI、GDP、PMI、汇率）

### 1.2 技术栈
- Python 3.9
- pandas 2.2.3
- numpy 1.23.5
- akshare 1.16.61
- pandas-ta 0.3.14b0

## 2. 测试环境

### 2.1 系统配置
- 操作系统: macOS
- Python版本: 3.9
- 测试日期: 2026-02-07

### 2.2 测试参数
- 数据期间: 2024-02-07 至 2026-02-07
- 测试股票: 4只（中国神华、五粮液、贵州茅台、中金黄金）
- 并发线程数: 8

## 3. 测试结果

### 3.1 股票分析结果汇总

| 股票代码 | 股票名称 | 当前价格 | 操作建议 | 买入评分 | 卖出压力 | 累计收益率 |
|---------|---------|---------|---------|---------|---------|-----------|
| 601088 | 中国神华 | 41.67 | 持有 | 0.50/1.00 | 0.07/1.00 | 66.66% |
| 000858 | 五 粮 液 | 107.00 | 持有 | 0.50/1.00 | 0.07/1.00 | 110.01% |
| 600519 | 贵州茅台 | 1515.01 | 持有 | 0.50/1.00 | 0.11/1.00 | 89.37% |
| 600489 | 中金黄金 | 29.55 | 卖出 | 0.10/1.00 | 0.15/1.00 | 75.55% |

### 3.2 详细分析

#### 3.2.1 中国神华 (601088)
- **操作建议**: 持有
- **当前价格**: 41.67元
- **买入评分**: 0.50/1.00 (阈值: 0.63)
- **卖出压力**: 0.07/1.00 (阈值: 0.10)
- **累计收益率**: 66.66%

**买入评分构成**:
- MACD动量(0.3): 0.30
- BOLL通道(0.2): 0.10
- RSI背离(0.15): 0.00
- 量价配合(0.2): 0.00
- 宏观因子(0.15): 0.10

**卖出压力构成**:
- 趋势衰减(0.1): 0.00
- 超买系数(0.1): 0.00
- 资金流出(0.1): 0.05
- 回撤压力(0.1): 0.02

#### 3.2.2 五 粮 液 (000858)
- **操作建议**: 持有
- **当前价格**: 107.00元
- **买入评分**: 0.50/1.00 (阈值: 0.58)
- **卖出压力**: 0.07/1.00 (阈值: 0.12)
- **累计收益率**: 110.01%

**买入评分构成**:
- MACD动量(0.3): 0.30
- BOLL通道(0.2): 0.10
- RSI背离(0.15): 0.00
- 量价配合(0.2): 0.00
- 宏观因子(0.15): 0.10

**卖出压力构成**:
- 趋势衰减(0.1): 0.00
- 超买系数(0.1): 0.00
- 资金流出(0.1): 0.02
- 回撤压力(0.1): 0.06

#### 3.2.3 贵州茅台 (600519)
- **操作建议**: 持有
- **当前价格**: 1515.01元
- **买入评分**: 0.50/1.00 (阈值: 0.58)
- **卖出压力**: 0.11/1.00 (阈值: 0.12)
- **累计收益率**: 89.37%

**买入评分构成**:
- MACD动量(0.3): 0.30
- BOLL通道(0.2): 0.10
- RSI背离(0.15): 0.00
- 量价配合(0.2): 0.00
- 宏观因子(0.15): 0.10

**卖出压力构成**:
- 趋势衰减(0.1): 0.00
- 超买系数(0.1): 0.01
- 资金流出(0.1): 0.01
- 回撤压力(0.1): 0.09

#### 3.2.4 中金黄金 (600489)
- **操作建议**: 卖出
- **当前价格**: 29.55元
- **买入评分**: 0.10/1.00 (阈值: 0.58)
- **卖出压力**: 0.15/1.00 (阈值: 0.12)
- **累计收益率**: 75.55%

**买入评分构成**:
- MACD动量(0.3): 0.00
- BOLL通道(0.2): 0.00
- RSI背离(0.15): 0.00
- 量价配合(0.2): 0.00
- 宏观因子(0.15): 0.10

**卖出压力构成**:
- 趋势衰减(0.1): 0.01
- 超买系数(0.1): 0.00
- 资金流出(0.1): 0.04
- 回撤压力(0.1): 0.10

## 4. 宏观数据

### 4.1 CPI数据
- **最新日期**: 2026年02月
- **CPI值**: 2.50%

### 4.2 GDP增速历史
| 季度 | 同比增长 | 绝对值（万亿） |
|------|---------|--------------|
| 2025Q1 | 5.40% | 31.85 |
| 2025Q1-2 | 5.30% | 65.99 |
| 2025Q1-3 | 5.20% | 101.40 |
| 2025Q1-4 | 5.00% | 140.19 |

## 5. 系统性能

### 5.1 执行效率
- 并发处理: 支持8线程并发处理
- 数据获取: 通过AKShare实时获取股票数据
- 宏观数据: 支持缓存机制，减少重复请求

### 5.2 评分系统特点

#### 5.2.1 买入评分（权重1.0）
- MACD动量 (30%): 判断价格动量方向
- BOLL通道 (20%): 评估价格相对位置
- RSI背离 (15%): 检测超卖信号
- 量价配合 (20%): 分析成交量与价格关系
- 宏观因子 (15%): 综合CPI、GDP、PMI、汇率

#### 5.2.2 卖出压力（权重1.0）
- 趋势衰减 (10%): 均线偏离度分析
- 超买系数 (10%): RSI超买检测
- 资金流出 (10%): 量能萎缩分析
- 回撤压力 (10%): 价格回撤风险

### 5.3 动态阈值机制
系统根据市场状态（趋势/震荡）和波动率动态调整买卖阈值：
- **趋势市场**: 买入阈值0.58-0.62，卖出阈值0.12
- **震荡市场**: 买入阈值0.63-0.66，卖出阈值0.10

## 6. 信号说明

### 6.1 信号类型
- **★★★ 买入 ★★★**: 买入评分 >= 买入阈值
- **▼▼▼ 卖出 ▼▼▼**: 卖出压力 >= 卖出阈值
- **持有**: 不满足买卖条件

### 6.2 测试结果统计
- 买入信号: 0只
- 卖出信号: 1只（中金黄金）
- 持有信号: 3只

## 7. 问题修复记录

### 7.1 已修复问题
1. **宏观数据空值处理**: 修复了GDP和CPI数据为None时的错误
2. **日期格式解析**: 优化了CPI日期解析逻辑，支持多种格式
3. **错误日志优化**: 移除了重复的错误日志输出

### 7.2 代码改进
- 添加了更健壮的空值检查
- 优化了宏观数据获取逻辑
- 改进了日期解析容错机制

## 8. 结论

系统运行稳定，成功处理了4只股票的数据分析。多维评分系统能够有效识别股票的买卖信号，动态阈值机制能够适应不同市场环境。回测结果显示，所有测试股票在测试期间均实现了正收益，其中五粮液收益率最高（110.01%）。

### 8.1 系统优势
- 多维度综合评估，避免单一指标误导
- 动态阈值调整，适应不同市场环境
- 宏观数据集成，提升决策准确性
- 并发处理机制，提高系统效率

### 8.2 改进建议
- 可考虑增加更多技术指标
- 优化宏观数据获取的稳定性
- 增加风险控制模块
- 支持更多股票批量分析

---

**报告生成时间**: 2026-02-07  
**测试执行人**: System  
**版本**: 1.0
